//------ PLACE DATABASE QUERY STRINGS OR FUNCTIONS HERE (postgreSQL) ------//

1) ----- Make sure create the DATABASE 'choice_db' before creating tables -----
-- Then you'll create tables with some foreign keys (for linking tables)

create database choice_db;


2) ----- Create STAFF table. -----
--Staff table of the employees. Needed for user validation on registration.

CREATE TABLE "staff"(
	"id" serial primary key,
	"staff_name" varchar(50) not null,
	"location" varchar(20) not null,
	"email" varchar(50) not null,
  "employed" boolean DEFAULT true
);


3) ----- Create initial "ADMIN" in STAFF table. -----

INSERT INTO "staff" ("name", "location", "email")
VALUES ('Admin', 'Eden Prairie', 'admin@choiceinc.org');


4) ----- Create "USER" table for user registration and authentication. -----
--login authenticated and roles of the user

CREATE TABLE "users" (
  "id" serial primary key,
  "username" varchar(80) not null UNIQUE,
  "password" varchar(240) not null,
	"staff_id" integer,
	"role" integer null
);


5) ----- Create "CLIENT" table. -----
--name of clients assigned to a staff member

CREATE TABLE "client" (
	"id" serial primary key,
	"staff_id" integer not null references staff(id),
	"client_name" varchar(50) not null
);


6) ----- Create "JOB_SITE" table. -----
--locations of jobs located and descriptions

CREATE TABLE "job_site" (
	"id" serial primary key,
	"business_name" varchar(20) not null,
	"address" varchar(50) null,
	"phone" varchar(20) null,
	"contact" varchar(30) null
);


7) ----- Create "GOAL" table. -----
--goals assigned to a client and assigned to a case manager

CREATE TABLE "goal" (
	"id" serial primary key,
	"client_id" integer not null references client(id),
	"jobsite_id" integer not null references job_site(id),
	"implementation_date" date not null,
	"review_dates" varchar(50) null,
	"completion_date" date null,
	"service_outcome" varchar(100) not null,
	"objective" varchar(500) not null,
	"behavior_technique" varchar(500) not null,
	"modifications" varchar(500) not null,
	"equipment" varchar(150) not null,
	"when_notes" varchar(500) not null,
	"plan_steps" varchar(1000) not null,
	"goal_status" boolean DEFAULT TRUE
);

insert into "goal"(client_id, jobsite_id, implementation_date, review_dates, completion_date, service_outcome, objective, implemented_by, behavior_technique, modifications, equipment, when_notes, plan_steps, goal_status) values(1, 1, '08/07/2017', '09/09/17 and 04/05/18', '05/09/17', 'Save middle earth.', 'destroy the one ring and save frodo', 1, 'be gallant and destroy evil', 'make hobbits more brave', 'wizard staff', 'high noon every day', '1. Find Frodo 2. Ride griffin. 3. Do Magic');

insert into "goal"(client_id, jobsite_id, implementation_date, review_dates, completion_date, service_outcome, objective, implemented_by, behavior_technique, modifications, equipment, when_notes, plan_steps, goal_status) values(3, 1, '08/07/2017', '09/09/17 and 04/05/18', '05/09/17', 'Be one with nature', 'talk to birds', 1, 'be weird and by yourself talk to many animals', 'be less weird', 'wizard staff', 'high noon every day', '1. Find Gandalf 2. Talk to animals 3. Destroy inanimate objects');


8) DELETE TABLE JOB


9) ----- Create "GOAL TRACKING" table. -----
--submitted goals, tracking completion data

CREATE TABLE "goal_tracking" (
	"id" serial primary key,
	"goal_id" integer not null references goal(id),
	"date_tracked" date not null,
	"am_or_pm" varchar(2) not null,
	"complete_or_not" varchar(20) not null,
	"notes" varchar(300) not null
);

insert into "goal_tracking"(goal_id, date_tracked, am_or_pm, complete_or_not, notes, additional_notes)
values(1, '08/28/17', 'am', 'not complete', 'the ring is not destroyed yet', '');

insert into "goal_tracking"(goal_id, date_tracked, am_or_pm, complete_or_not, notes, additional_notes)
values(1, '08/28/17', 'pm', 'not complete', 'the ring is not destroyed yet', 'Till another day until the ring is destroyed');

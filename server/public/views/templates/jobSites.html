<div ng-include="'views/partials/nav.html'"></div>
<!-- Job sites page - From this page, the admin can add / delete Job sites and edit existing info -->



<h1>Manage Job Sites</h1>
<div class="container goals" layout="column" flex>
  <md-content>
    <fieldset>
      <div layout="row">
        <md-input-container>
          <label>Job Site Name:</label>
          <input type="text" ng-model="jc.business_name" placeholder="McDonald's">
        </md-input-container>
        <md-input-container>
          <label>Address:</label>
          <input type="text" ng-model="jc.address" placeholder="ex: 123 Main St., St. Paul, MN 55119">
        </md-input-container>
        <md-input-container>
          <label>Phone:</label>
          <input type="text" ng-model="jc.phone" placeholder="763-111-1111">
        </md-input-container>
        <md-input-container>
          <label>Contact:</label>
          <input type="text" ng-model="jc.contact" placeholder="Mary Smith">
        </md-input-container>
      </div>
      <div layout="row">
        <md-button class="md-raised md-accent" ng-click="jc.addNewJobSite(jc.business_name, jc.address, jc.phone, jc.contact)">Add New Job Site</md-button>

      </div>
    </fieldset>
  </form>

</md-content> <!-- end of material container-->
</div>

<form editable-form name="jobsiteForm" onaftersave="jc.updateJobSites(jc.jobsiteData)">


  <table>
    <thead>
      <th>Jobsite Name</th>
      <th>Address</th>
      <th>Phone Number</th>
      <th>Contact Name</th>
    </thead>
    <tbody>
      <tr ng-repeat="jobsite in jc.manageJobSiteData">
        <td ng-hide="jobsite.editing == true">{{jobsite.business_name}}</td>
        <td ng-show="jobsite.editing == true"><input type="text" name="" ng-value="jc.siteToEdit.business_name" placeholder="Business name" ng-model="jc.siteToEdit.staff_name"></td>
        <td ng-hide="jobsite.editing == true">{{jobsite.address}}</td>
        <td ng-show="jobsite.editing == true"><input type="text" name="" ng-value="jc.siteToEdit.address" placeholder="Address" ng-model="jc.siteToEdit.address"></td>
        <td ng-hide="jobsite.editing == true">{{jobsite.phone}}</td>
        <td ng-show="jobsite.editing == true"><input type="text" name="" ng-value="jc.siteToEdit.phone" placeholder="Phone" ng-model="jc.siteToEdit.phone"></td>
        <td ng-hide="jobsite.editing == true">{{jobsite.contact}}</td>
        <td ng-show="jobsite.editing == true"><input type="text" name="" ng-value="jc.siteToEdit.contact" placeholder="Contac" ng-model="jc.siteToEdit.contact"></td>
        <td>
          <input ng-hide="jobsite.editing == true" type="submit" name="" value="Edit" ng-click="jc.toggleEditing(jobsite)">
          <input ng-show="jobsite.editing == true" type="submit" name="" value="Submit" ng-click="jc.updateJobSite(jc.siteToEdit)">
          <input ng-show="jobsite.editing == true" type="submit" name="" value="Cancel" ng-click="jc.toggleEditing(jobsite)">
        </td>
      </tr>
    </tbody>
  </table>
